<div class="col-sm-8 col-sm-offset-2 col-lg-6 col-lg-offset-3">
  <h1>Login</h1>
  <!--form [ngFormModel]="loginForm" (submit)="submit(loginForm.value)">
    <fieldset class="form-group" [class.has-success]="loginForm.find('username').valid && loginForm.find('username').touched" [class.has-danger]="!loginForm.find('username').valid && loginForm.find('username').touched">
      <label for="username" class="form-control-label">Username</label>
      <input [(ngModel)]="user.email" #username="ngForm" [ngFormControl]="loginForm.controls['username']" type="text" id="username" class="form-control" [class.form-control-success]="loginForm.find('username').valid" [class.form-control-danger]="!loginForm.find('username').valid" placeholder="Username">
      <div *ngIf="!username.control.valid && loginForm.find('username').touched" class="text-help">Username is required</div>
    </fieldset>
    <fieldset class="form-group">
      <label for="password" class="form-control-label">Password</label>
      <input [(ngModel)]="user.password" type="text" class="form-control" placeholder="Password">
    </fieldset>
    <button type="submit" class="btn btn-block btn-primary" [disabled]="!loginForm.valid">
      <span>Login</span>
    </button>
    {{user}}
  </form>
  <form (ngSubmit)="login(user)" [ngFormModel]="loginForm">
    <div class="form-group" [class.has-success]="loginForm.find('email').valid && email.touched" [class.has-danger]="!email.valid && email.touched">
      <label for="email" class="form-control-label">Email</label>
      <input type="text" class="form-control" [class.form-control-success]="loginForm.find('email').valid" [(ngModel)]="user.email" ngControl="email" #email="ngForm" placeholder="Email Address" [ngFormControl]="loginForm.controls['email']">
      <div *ngIf="loginForm.email.hasError('invalidEmail')">
        email invalid

      </div>
    </div>
    <div class="form-group" [class.has-success]="password.valid && password.touched" [class.has-danger]="!password.valid && password.touched">
      <label for="password" class="form-control-label">Password</label>
      <input type="password" class="form-control" [class.form-control-success]="password.valid" [class.form-control-danger]="!password.valid" [(ngModel)]="user.password" ngControl="passwrod" #password="ngForm" placeholder="Password">
    </div>
    <button type="submit" class="btn btn-block btn-primary" [disabled]="!loginForm.form.valid">Log In</button>
  </form-->
  <form [ngFormModel]="loginForm" (ngSubmit)="login(loginForm.value)">
    <fieldset class="form-group" [class.has-success]="email.valid && email.touched" [class.has-danger]="!email.valid && email.touched">
      <label for="emailInput" class="form-control-label">Email</label>
      <input type="text" id="emailInput" placeholder="Email Address" [ngFormControl]="loginForm.controls['email']" class="form-control" [class.form-control-success]="email.valid" [class.form-control-danger]="!email.valid">
      <div *ngIf="email.touched">
        <div *ngIf="email.hasError('required')" class="text-help">Email Required</div>
        <div *ngIf="email.hasError('invalidEmail')" class="text-help">Invalid Email</div>
      </div>
    </fieldset>
    <fieldset class="form-group" [class.has-success]="password.valid && password.touched" [class.has-danger]="!password.valid && password.touched">
      <label for="passwordInput" class="form-control-label">Password</label>
      <input type="password" id="passwordInput" placeholder="Password" [ngFormControl]="loginForm.controls['password']" class="form-control" [class.form-control-success]="password.valid" [class.form-control-danger]="!password.valid">
      <div *ngIf="password.touched">
        <div *ngIf="password.hasError('required')" class="text-help">Password Required</div>
        <div *ngIf="password.hasError('passwordLengthInvalid')" class="text-help">Password Must Be a Minimum of 6 Characters</div>
      </div>
    </fieldset>
    <button type="submit" [disabled]="!loginForm.valid" class="btn btn-block btn-primary">Login</button>
  </form>
</div>
