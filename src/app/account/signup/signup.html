<div class="row">
  <form [ngFormModel]="signupForm" (submit)="userSerivce.postUser(signupForm.value)" class="col-xs-12 col-sm-8 col-sm-offset-2 col-lg-6 col-lg-offset-3">
    <h1 class="text-xs-center">Sign Up</h1>
    <fieldset class="form-group" [class.has-success]="signupForm.find('username').valid && signupForm.find('username').touched" [class.has-danger]="!signupForm.find('username').valid && signupForm.find('username').touched">
      <label for="username" class="form-control-label">Username</label>
      <input #username="ngForm" [ngFormControl]="signupForm.controls['username']" type="text" id="username" class="form-control" [class.form-control-success]="signupForm.find('username').valid" [class.form-control-danger]="!signupForm.find('username').valid" placeholder="Username">
      <div *ngIf="signupForm.find('username').touched">
        <div *ngIf="username.control.hasError('required')" class="text-help">Username is required</div>
        <div *ngIf="username.control.hasError('maxlength')" class="text-help">Username must be 24 characters or less</div>
      </div>
    </fieldset>
    <fieldset class="form-group" [class.has-success]="signupForm.find('email').valid && signupForm.find('email').touched" [class.has-danger]="!signupForm.find('email').valid && signupForm.find('email').touched">
      <label for="emailAddress" class="form-control-label">Email Address</label>
      <input type="email" #email="ngForm" [ngFormControl]="signupForm.controls['email']" class="form-control" placeholder="Email Address" [class.form-control-success]="signupForm.find('email').valid" [class.form-control-danger]="!signupForm.find('email').valid">
      <div *ngIf="email.control.hasError('invalidEmail') && signupForm.find('email').touched" class="text-help">Invalid email address</div>
    </fieldset>
    <fieldset class="form-group" [class.has-success]="signupForm.find('password').valid && signupForm.find('password').touched" [class.has-danger]="!signupForm.find('password').valid && signupForm.find('password').touched">
      <label for="password" class="form-control-label">Password</label>
      <input type="password" #password="ngForm" [ngFormControl]="signupForm.controls['password']" [class.form-control-success]="signupForm.find('password').valid" [class.form-control-danger]="!signupForm.find('password').valid" class="form-control" placeholder="Password">
      <div *ngIf="signupForm.find('password').touched">
        <div *ngIf="password.control.hasError('required')" class="text-help">Password is required</div>
        <div *ngIf="password.control.hasError('minlength')" class="text-help">Password must be at least 8 characters</div>
      </div>
    </fieldset>
    <fieldset class="form-group" [class.has-success]="password_confirmation.valid && password_confirmation.touched" [class.has-danger]="!password_confirmation.valid && password_confirmation.touched" [disabled]="!signupForm.find('password').valid">
      <label for="passwordConfirmation" class="form-control-label">Password Confirmation</label>
      <input type="password" [ngFormControl]="signupForm.controls['password_confirmation']" [class.form-control-success]="signupForm.find('password_confirmation').valid" [class.form-control-danger]="!signupForm.find('password_confirmation').valid" class="form-control" placeholder="Password Confirmation">
      <div [hidden]="!signupForm.find('password_confirmation').touched || !signupForm.find('password').valid">
        <div [hidden]="!password_confirmation.hasError('required')" class="text-help">Password confirmation is required</div>
        <div [hidden]="!password_confirmation.hasError('notEquivalent')" class="text-help">Confirmation does not match</div>
      </div>
    </fieldset>
    <button type="submit" class="btn btn-block btn-primary" [disabled]="!signupForm.valid">
      <span>Sign Up</span>
    </button>
  </form>
</div>
